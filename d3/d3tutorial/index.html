<!doctype html>
<html>

<head>
  <title>D3 tutorial</title>
  <script src="http://d3js.org/d3.v3.min.js"></script>
</head>

<body>

  <p>The dragon then said to Matthias. "You are too small".</p>

  <script>

    d3.select("p").text("Fetch data from external file.");

    d3.json("mydata.json", function (data) { 

      var canvas = d3.select("body").append("svg")
                     .attr("width", 500)
                     .attr("height", 500);
      canvas.selectAll("rect")
        .data(data)
        .enter()
          .append("rect")
          .attr("width", function (d) {return d.age * 10;})
          .attr("height", 48)
          .attr("y", function (d, i) {return i*50;})
          .attr("fill", "blue")
      
      canvas.selectAll("text")
        .data(data)
        .enter()
          .append("text")
          .attr("fill", "white")
          .attr("y", function (d,i) { return i * 50 + 24; })
          .text(function (d) { return d.name; });
    })


  </script>

</body>

</html>
